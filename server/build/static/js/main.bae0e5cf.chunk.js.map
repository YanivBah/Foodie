{"version":3,"sources":["components/Alert/Alert.jsx","Context.js","components/RecipeBox/RecipeBox.jsx","components/Button/Button.jsx","components/Hero/Hero.jsx","pages/Homepage/Homepage.jsx","components/Input/Input.jsx","pages/Login/Login.jsx","components/ImageUploadPlusPreview/ImageUploadPlusPreview.jsx","pages/Signup/Signup.jsx","components/Textarea/Textarea.jsx","components/CommentView/CommentView.jsx","components/IngredientView/IngredientView.jsx","components/NewComment/NewComment.jsx","components/RateRecipe/RateRecipe.jsx","components/StepView/StepView.jsx","pages/Recipe/Recipe.jsx","pages/Profile/Profile.jsx","components/Navbar/SideNavbar.jsx","components/Navbar/Navbar.jsx","components/AddTagInput/AddTagInput.jsx","components/TagBox/Tagbox.jsx","components/IngredientBox/IngredientBox.jsx","components/IngredientSetting/IngredientSetting.jsx","components/StepTextarea/StepTextarea.jsx","components/RecipePreview/RecipePreview.jsx","pages/AddRecipe/AddRecipe.jsx","pages/AllRecipes/AllRecipes.jsx","components/Dropdown/Dropdown.jsx","pages/Search/Search.jsx","pages/Dashboard/Dashboard.jsx","Routes.js","App.js","index.js"],"names":["Alert","details","header","text","type","className","xmlns","viewBox","d","Context","createContext","RecipeBox","recipe","noName","to","_id","src","alt","title","owner","username","Button","onClick","Hero","user","useContext","get","map","li","index","Homepage","useState","recent","setRecent","history","useHistory","fetchRecentRecipes","a","axios","data","recipes","useEffect","push","Input","name","label","placeholder","values","onChange","whatToChange","htmlFor","id","value","event","newValue","target","Login","alertPopup","password","inputValues","setInputValues","handleLogin","preventDefault","body","email","post","set","response","ImageUploadPlusPreview","preview","file","files","length","raw","URL","createObjectURL","Signup","repeatPassword","handleSignup","test","validator","isEmail","isStrongPassword","minLength","minLowercase","minUppercase","minSymbols","formData","FormData","append","JSON","stringify","headers","message","Textarea","maxLength","rows","Array","isArray","momentConfig","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","CommentView","comment","setComments","setCommentsLength","editable","setEditable","textarea","content","setValue","handleEdit","prev","oldValue","saveEdit","console","log","patch","Authorization","token","comments","find","com","deleteComment","delete","filter","moment","calendar","timestamp","toString","substring","Date","parseInt","getDate","IngredientView","ingredient","isChecked","setIsChecked","amount","unit","NewComment","recipeID","addComment","newComment","unshift","RateRecipe","initialRating","isRated","ratings","setRecipe","averageRating","reduce","acc","cur","rating","setRating","addRating","number","StepView","instruction","Recipe","useParams","commentsLength","fetchComments","moreComments","concat","ingredients","sort","ing1","ing2","commentLength","fetchRecipe","description","now","updatedAt","createdAt","ing","instructions","ins","Profile","profile","setProfile","setRecipes","maxRecipes","setMaxRecipes","fetchRecipes","recipesLength","fetchProfile","format","score","SideNavbar","sideNavbar","handleMenu","handleLogout","classList","contains","ref","Navbar","isMenuOpen","setIsMenuOpen","useRef","current","remove","add","setTimeout","window","scrollTo","AddTagInput","whereToPush","handleChange","enoughLength","setEnoughLength","inputValue","disabled","Tagbox","newValues","findIndex","tag","splice","IngredientBox","whatToFilter","newIngredient","ingredientSearchTerm","IngredientSetting","isHidden","setIsHidden","StepTextarea","hiddenOrNot","steps","RecipePreview","AddRecipe","page","setPage","ingredientSearch","ingredientsFounded","tagInput","tags","changePage","some","step","searchIngredient","filteredData","timeoutID","clearTimeout","sendRecipe","forEach","ingre","dir","AllRecipes","setRecipesLength","Dropdown","options","group","opt","Search","viewAdvanced","setViewAdvanced","viewResults","setViewResults","savedParams","setSavedParams","basic","parameter","switchSearch","newVal","ingredientDelete","filteredIng","handleSearch","params","split","limit","skip","Dashboard","setValues","oldPassword","newPassword","newRepeatPassword","handleUpdate","e","newUserData","Routes","path","exact","App","setUser","recentRecipes","setRecentRecipes","alert","setAlert","states","timeout","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bae0e5cf.chunk.js","sourcesContent":["import React from 'react';\nimport './Alert.css';\n\nexport const Alert = ({details}) => {\n  const { header, text, type } = details;\n  return (\n    <div className={`alert ${type}`}>\n      <div className=\"heading\">\n        {type === \"red\" && (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"fill-current w-5 pt-1\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path d=\"M12 1l-12 22h24l-12-22zm-1 8h2v7h-2v-7zm1 11.25c-.69 0-1.25-.56-1.25-1.25s.56-1.25 1.25-1.25 1.25.56 1.25 1.25-.56 1.25-1.25 1.25z\" />\n          </svg>\n        )}\n        {type === \"green\" && (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"fill-current w-5 pt-1\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path d=\"M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-1.959 17l-4.5-4.319 1.395-1.435 3.08 2.937 7.021-7.183 1.422 1.409-8.418 8.591z\" />\n          </svg>\n        )}\n\n        <h3>{header}</h3>\n      </div>\n      <div>{text}</div>\n    </div>\n  );\n}\n","import { createContext } from \"react\";\n\nconst Context = createContext(null);\n\nexport default Context;","import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport \"./RecipeBox.css\";\nexport const RecipeBox = ({ recipe, noName }) => {\n  return (\n    <div className=\"recipe-preview\">\n      <NavLink to={`/recipe/${recipe._id}`}>\n        <div className=\"recipe-preview--image\">\n          <img src={`/api/recipe/image?id=${recipe._id}`} alt=\"recipe\" />\n          <div className=\"title\">\n            <h3>{recipe.title}</h3>\n            {!noName && <span>By {recipe.owner.username}</span>}\n          </div>\n        </div>\n      </NavLink>\n    </div>\n  );\n};\n","import React from 'react';\nimport './Button.css';\n\nexport const Button = ({text, onClick}) => {\n  return (\n    <button className=\"button\" onClick={onClick}>\n      {text}\n    </button>\n  )\n}\n","import React, { useContext } from 'react'\nimport './Hero.css';\nimport Context from \"../../Context\";\nimport { Link } from 'react-router-dom';\n\n\nexport const Hero = () => {\n  const { user } = useContext(Context);\n  const notLoggedIn = ['Interact with other people', 'Share your recipes', `Rate other's recipes`];\n  const loggedIn = ['Find what to cook for today', 'Tell users how it went'];\n  return (\n    <div className=\"hero\">\n      <div className=\"hero-bg\"></div>\n      <div className=\"hero-content\">\n        <div className=\"hero-text\">\n          <h1>{!user.get ? \"Join our community!\" : `What's cooking?`}</h1>\n          {!user.get && <p><Link to=\"/signup\">Click here to signup</Link></p>}\n          <ul>\n            {!user.get && notLoggedIn.map((li, index) => <li key={index}>{li}</li>)}\n            {user.get && loggedIn.map((li, index) => <li key={index}>{li}</li>)}\n          </ul>\n        </div>\n        <div className=\"hero-image\">\n          <img src=\"./assets/hero-new.svg\" alt=\"man sitting\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import axios from 'axios';\nimport { RecipeBox } from \"../../components/RecipeBox/RecipeBox\";\nimport React, { useEffect, useState } from 'react'\nimport './Homepage.css';\nimport { useHistory } from 'react-router';\nimport { Button } from '../../components/Button/Button';\nimport { Hero } from '../../components/Hero/Hero';\n\nexport const Homepage = () => {\n  const [recent, setRecent] = useState([]);\n  const history = useHistory();\n  const fetchRecentRecipes = async() => {\n    const {data} = await axios.get(\"/api/recipe/recent?limit=6&skip=0\");\n    setRecent(data.recipes);\n  }\n\n  useEffect(() => {fetchRecentRecipes()}, []);\n\n  return (\n    <div className=\"homepage\">\n      <Hero/>\n      <div className=\"recent\">\n        <h2>Recent Recipes</h2>\n        <div className=\"grid-preview\">\n          {recent.map(recipe => <RecipeBox recipe={recipe} key={recipe._id}/>)}\n        </div>\n        <Button text=\"See All\" onClick={() => history.push('/recipes')}/>\n      </div>\n    </div>\n  )\n}","import React from 'react'\nimport './Input.css';\nexport const Input = ({name, label, type, placeholder, values, onChange, whatToChange}) => {\n  const handleChange = (event) => {\n    const newValue = {...values};\n    newValue[whatToChange] = event.target.value;\n    onChange(newValue)\n  }\n  return (\n    <>\n      <label className=\"label\" htmlFor={name}>\n        {label}\n      </label>\n      <input\n        id={name}\n        className=\"input\"\n        type={type}\n        placeholder={placeholder}\n        value={values[whatToChange]}\n        onChange={handleChange}\n      />\n    </>\n  );\n}","import React, { useContext, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Input } from \"../../components/Input/Input\";\nimport { Button } from \"../../components/Button/Button\";\nimport Context from '../../Context';\nimport './Login.css';\nimport axios from 'axios';\nexport const Login = () => {\n  const { user, alertPopup } = useContext(Context);\n  const [inputValues, setInputValues] = useState({\n    username: '',\n    password: ''\n  });\n  const history = useHistory()\n\n  const handleLogin = async(event) => {\n    event.preventDefault();\n    const body = {\n      email: inputValues.username,\n      password: inputValues.password\n    }\n    try {\n      const {data} = await axios.post('/api/user/login', body);\n      user.set(data);\n      alertPopup(\"Success!\", \"Login was successful!\", \"green\", 1500);\n      history.push('/');\n    } catch (error) {\n      alertPopup('Sorry', error.response.data, \"red\", 1500);\n    }\n  }\n\n  return (\n    <div className=\"login\">\n      <div className=\"header\">\n        <h1>Sign in to your account</h1>\n        <p>\n          Don't have an account? <Link to=\"/signup\">Signup now.</Link>\n        </p>\n      </div>\n      <form>\n        <Input\n          name=\"username\"\n          label=\"Username / E-mail\"\n          type=\"text\"\n          placeholder=\"Your username or e-mail\"\n          values={inputValues}\n          onChange={setInputValues}\n          whatToChange=\"username\"\n        />\n        <Input\n          name=\"password\"\n          label=\"Password\"\n          type=\"password\"\n          placeholder=\"Your password\"\n          values={inputValues}\n          onChange={setInputValues}\n          whatToChange=\"password\"\n        />\n        <Button text=\"Login\" onClick={handleLogin} />\n      </form>\n    </div>\n  );\n}\n","import React from 'react';\nimport './ImageUploadPlusPreview.css';\nexport const ImageUploadPlusPreview = ({name, values, onChange, whatToChange, text, type}) => {\n  const handleChange = (event) => {\n    if (event.target.files.length) {\n      const newValue = { ...values };\n      newValue[whatToChange].raw = event.target.files[0];\n      newValue[whatToChange].preview = URL.createObjectURL(event.target.files[0]);\n      onChange(newValue);\n    }\n  }\n\n  return (\n    <>\n      {values[whatToChange].preview && (\n        <img\n          src={values.file.preview}\n          alt=\"Your uploaded img\"\n          className=\"image-preview\"\n        />\n      )}\n      <input\n        type=\"file\"\n        id={name}\n        onChange={handleChange}\n        className=\"inputfile\"\n      />\n      <label htmlFor={name}>\n        {!values.file.raw ? text : \"Upload different\"}\n      </label>\n    </>\n  );\n}\n","import axios from 'axios';\nimport React, { useContext, useState } from 'react'\nimport { useHistory } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { Button } from '../../components/Button/Button';\nimport { Input } from '../../components/Input/Input';\nimport Context from \"../../Context\";\nimport validator from 'validator';\nimport './Signup.css';\nimport { ImageUploadPlusPreview } from '../../components/ImageUploadPlusPreview/ImageUploadPlusPreview';\n\nexport const Signup = () => {\n  const { alertPopup } = useContext(Context);\n  const history = useHistory();\n\n  const [inputValues, setInputValues] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    repeatPassword: \"\",\n    file: {\n      raw: null,\n      preview: null\n    }\n  });\n\n  const handleSignup = async (event) => {\n    event.preventDefault();\n    if (inputValues.username === '' || inputValues.email === '' || inputValues.password === '') {\n      return alertPopup(\"Empty field/s\", \"You have one or more empty fields.\", \"red\", 3500);\n    }\n    if (/\\W/g.test(inputValues.username)) {\n      return alertPopup(\"Username\", \"The username can't include spaces or symbols.\", \"red\", 3000);\n    }\n    if (!validator.isEmail(inputValues.email)) {\n      return alertPopup(\"Email\", \"The email is invalid.\", \"red\", 3000);\n    }\n    if (inputValues.password !== inputValues.repeatPassword) {\n      return alertPopup(\"Password\", \"The password fields are not matching.\", \"red\", 3000);\n    }\n    if (!validator.isStrongPassword(inputValues.password, {minLength: 8, minLowercase: 1, minUppercase: 1, minSymbols: 1})) {\n      return alertPopup(\n        \"Password\",\n        \"The password must be with atleast: 8 Characters, 1 Lowercase, 1 Uppercase and 1 Symbol.\",\n        \"red\",\n        5000\n      );\n    }\n    const body = {\n      email: inputValues.email,\n      username: inputValues.username,\n      password: inputValues.password\n    };\n    const formData = new FormData();\n    if (inputValues.file.raw) {\n      formData.append(\"image\", inputValues.file.raw);\n    }\n    formData.append(\"body\", JSON.stringify(body));\n    try {\n      await axios.post(\"/api/user/signup\", formData, {headers: {\"Content-Type\": \"multipart/form-data\"},});\n      // await axios.post('/api/user/signup', body);\n      alertPopup(\"Success!\", \"Signup was successful!\", \"green\", 2000);\n      history.push('/login');\n    } catch (error) {\n      alertPopup(\"Sorry!\", error?.response?.data?.message || \"User validation failed\", \"red\", 2000);\n    }\n  };\n\n  return (\n    <div className=\"signup\">\n      <div className=\"header\">\n        <h1>Signup to our community</h1>\n        <p>\n          Have an account already? <Link to=\"/login\">login now.</Link>\n        </p>\n      </div>\n      <form>\n        <ImageUploadPlusPreview\n          name=\"fileupload\"\n          values={inputValues}\n          whatToChange=\"file\"\n          onChange={setInputValues}\n          text=\"Upload an avatar\"\n        />\n        <Input\n          name=\"username\"\n          label=\"Username\"\n          type=\"text\"\n          placeholder=\"Enter a username\"\n          values={inputValues}\n          onChange={setInputValues}\n          whatToChange=\"username\"\n        />\n        <Input\n          name=\"email\"\n          label=\"Email\"\n          type=\"email\"\n          placeholder=\"Enter your email\"\n          values={inputValues}\n          onChange={setInputValues}\n          whatToChange=\"email\"\n        />\n        <Input\n          name=\"password\"\n          label=\"Password\"\n          type=\"password\"\n          placeholder=\"Enter a password\"\n          values={inputValues}\n          onChange={setInputValues}\n          whatToChange=\"password\"\n        />\n        <Input\n          name=\"repeatPassword\"\n          label=\"Repeat Password\"\n          type=\"password\"\n          placeholder=\"Enter your password again\"\n          values={inputValues}\n          onChange={setInputValues}\n          whatToChange=\"repeatPassword\"\n        />\n        <Button text=\"Signup\" onClick={handleSignup} />\n      </form>\n    </div>\n  );\n}","import React from 'react'\nimport './Textarea.css';\nexport const Textarea = ({name, label, placeholder, values, onChange, whatToChange, maxLength, rows}) => {\n  const handleChange = (event) => {\n    const newValue = {...values};\n    if (Array.isArray(whatToChange)) {\n      newValue[whatToChange[0]][whatToChange[1]][whatToChange[2]] = event.target.value;\n    } else {\n      newValue[whatToChange] = event.target.value;\n    }\n    onChange(newValue);\n  }\n  return (\n    <>\n      <label className=\"label\" htmlFor={name}>\n        {label}\n      </label>\n      <textarea\n        className=\"textarea\"\n        id={name}\n        rows={rows}\n        placeholder={placeholder}\n        value={values[whatToChange]}\n        onChange={handleChange}\n        maxLength={maxLength}\n      ></textarea>\n    </>\n  );\n}","import moment from 'moment';\nimport React, { useContext, useState } from 'react'\nimport { Link } from 'react-router-dom';\nimport './CommentView.css';\nimport Context from \"../../Context\";\nimport axios from 'axios';\nimport { Textarea } from '../Textarea/Textarea';\n\nconst momentConfig = {\n  sameDay: \"HH:mm\",\n  nextDay: \"[Tomorrow]\",\n  nextWeek: \"dddd\",\n  lastDay: \"[Yesterday]\",\n  lastWeek: \"[Last] dddd\",\n  sameElse: \"DD/MM/YYYY\",\n};\n\nexport const CommentView = ({ comment, setComments, setCommentsLength }) => {\n  const { user } = useContext(Context);\n  const [editable, setEditable] = useState(false);\n  const [value, setValue] = useState({ textarea: comment.content });\n  const getDate = () => {\n    const timestamp = comment._id.toString().substring(0, 8);\n    const date = new Date(parseInt(timestamp, 16) * 1000);\n    return date;\n  };\n\n  const handleEdit = () => {\n    setEditable((prev) => !prev);\n    setValue(prev => {\n      const oldValue = {...prev};\n      oldValue.textarea = comment.content;\n      return oldValue;\n    });\n  };\n\n  const saveEdit = async () => {\n    const body = {id: comment._id, content: value.textarea};\n    console.log(body);\n    try {\n      await axios.patch(\"/api/comment/edit\", body, {\n        headers: { Authorization: `Bearer ${user.get.token}` }\n      });\n      setComments(prev => {\n        const comments = [...prev];\n        const currentComment = comments.find(com => com._id === comment._id);\n        currentComment.content = value.textarea;\n        return comments;\n      });\n      setEditable((prev) => !prev);\n    } catch (e) {\n      \n    }\n  }\n\n  const deleteComment = async () => {\n    const body = {\n      id: comment._id,\n    };\n    try {\n      await axios.delete(\"/api/comment/delete\", {\n        headers: { Authorization: `Bearer ${user.get.token}` },\n        data: body\n      });\n      setComments(prev => {\n        return prev.filter(com => com !== comment)\n      });\n      setCommentsLength(prev => prev-1);\n\n    } catch (e) {\n\n    }\n  };\n\n  return (\n    <div className=\"comment\">\n      <img\n        src={`/api/user/avatar?username=${comment.user.username}`}\n        alt=\"Literally avatar\"\n      />\n      <div className=\"details\">\n        <div className=\"meta\">\n          <p>\n            <Link to={`/profile/${comment.user.username}`}>\n              {comment.user.username}\n            </Link>\n            <span>{moment().calendar(getDate(), momentConfig)}</span>\n          </p>\n          {comment.user._id === user.get?.user?._id && (\n            <div className=\"controls\">\n              {!editable && (\n                <>\n                  <span className=\"material-icons red\" onClick={deleteComment}>\n                    delete\n                  </span>\n                  <span className=\"material-icons blue\" onClick={handleEdit}>\n                    edit\n                  </span>\n                </>\n              )}\n              {editable && (\n                <>\n                  <span className=\"material-icons blue\" onClick={saveEdit}>\n                    save\n                  </span>\n                  <span className=\"material-icons red\" onClick={handleEdit}>\n                    cancel\n                  </span>\n                </>\n              )}\n            </div>\n          )}\n        </div>\n        <div className=\"content\">\n          {!editable && <p>{comment.content}</p>}\n          {editable && (\n            <Textarea\n              name=\"editcomment\"\n              label=\"Edit your comment\"\n              placeholder=\"Type your comment\"\n              values={value}\n              onChange={setValue}\n              whatToChange=\"textarea\"\n              maxLength=\"100\"\n              rows=\"2\"\n            />\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};","import React, { useState } from 'react';\nimport './IngredientView.css';\n\nexport const IngredientView = ({ingredient, index}) => {\n  const [isChecked, setIsChecked] = useState(false);\n\n  const handleChecking = () => {\n    setIsChecked(prev => !prev);\n  }\n  return (\n    <div className=\"ingredient-view\">\n      <span className=\"number\" onClick={handleChecking}>\n        {index + 1}\n      </span>\n      {ingredient?.ingredient ? (\n        <>\n          <span className={`name${isChecked ? \" checked\" : \"\"}`}>\n            {ingredient.ingredient.name}\n          </span>\n          <span className={`unit${isChecked ? \" checked\" : \"\"}`}>\n            {\" \"}\n            - {ingredient.amount} {ingredient.unit}\n          </span>\n        </>\n      ) : (\n        <>\n          <span className={`name${isChecked ? \" checked\" : \"\"}`}>\n            {ingredient.name}\n          </span>\n          <span className={`unit${isChecked ? \" checked\" : \"\"}`}>\n            {\" \"}\n            - {ingredient.amount} {ingredient.unit}\n          </span>\n        </>\n      )}\n    </div>\n  );\n}\n","import axios from 'axios';\nimport React, { useContext, useState } from 'react'\n  import Context from \"../../Context\";\nimport { Button } from '../Button/Button';\nimport { Textarea } from '../Textarea/Textarea'\nimport './NewComment.css';\n\nexport const NewComment = ({ recipeID, setComments, setCommentsLength }) => {\n  const { user } = useContext(Context);\n  const [value, setValue] = useState({textarea: \"\"});\n\n  const addComment = async () => {\n    const body = { id: recipeID ,content: value.textarea };\n    try {\n      const { data } = await axios.post(\"/api/comment/add\", body, {\n        headers: { Authorization: `Bearer ${user.get.token}` },\n      });\n      setComments((prev) => {\n        const newComment = [...prev];\n        newComment.unshift(data);\n        return newComment;\n      });\n      setCommentsLength((prev) => prev+1);\n    } catch (e) {\n      \n    }\n  };\n\n  return (\n    <div className=\"new-comment\">\n      <h4>Add a new comment</h4>\n      <Textarea\n        name=\"newcomment\"\n        label=\"\"\n        placeholder=\"Type your comment\"\n        values={value}\n        onChange={setValue}\n        whatToChange=\"textarea\"\n        maxLength=\"100\"\n        rows=\"3\"\n      />\n      <Button text=\"Send\" onClick={addComment} />\n    </div>\n  );\n};","import axios from 'axios';\nimport React, { useContext, useState } from 'react'\nimport './RateRecipe.css';\nimport Context from \"../../Context\";\n\nexport const RateRecipe = ({ ratings, recipeID, setRecipe, owner }) => {\n  const { user, alertPopup } = useContext(Context);\n\n  let initialRating;\n  let isRated;\n\n  const averageRating = () => {\n    if (ratings.length === 0) {\n      return 0;\n    }\n    let sum = ratings.reduce((acc, cur) => {\n      return acc + cur.rating;\n    }, 0);\n    return sum / ratings.length;\n  };\n\n  if (user.get && user.get.user._id !== owner) {\n    isRated = ratings.find((rating) => rating.user === user.get.user._id);\n    if (isRated) initialRating = isRated.rating;\n  } else {\n    initialRating = averageRating();\n  }\n  const [rating, setRating] = useState(initialRating);\n\n  const addRating = async (number) => {\n    if (isRated) {\n      return alertPopup(\n        \"Unable to rate\",\n        \"You already rated this recipe.\",\n        \"red\",\n        2500\n      );\n    }\n    if (!user.get) {\n      return alertPopup(\n        \"You are not logged in.\",\n        \"You are not connected to a user.\\nPlease login or signup before.\",\n        \"red\",\n        2500\n      );\n    }\n    if (user.get.user._id === owner) {\n      return alertPopup(\n        \"Unable to rate\",\n        \"You can't rate your own recipe.\",\n        \"red\",\n        2500\n      );\n    }\n    const body = { id: recipeID, rating: number };\n    try {\n      await axios.post(\"/api/recipe/rating\", body, {\n        headers: { Authorization: `Bearer ${user.get.token}` },\n      });\n      setRating(number);\n      setRecipe((prev) => {\n        const newValue = { ...prev };\n        newValue.rating.unshift({ user: user.get.user._id, rating: number });\n        return newValue;\n      });\n    } catch (e) {\n    }\n  };\n\n  const paragraph = () => {\n    if (user.get && user.get.user._id === owner) {\n      return \"Just wait, time make it better.\";\n    } else if (!user.get) {\n      return \"Login or signup to rate.\";\n    } else if (user.get && isRated) {\n      return \"You are one of them.\";\n    } else if (user.get && !isRated) {\n      return \"Maybe you next?\";\n    }\n  }\n\n  return (\n    <div className=\"rating\">\n      <div className=\"header\">\n        <h4>\n          {ratings.length === 0\n            ? \"Be the first person to rate\"\n            : `${ratings.length} users already rated.`}\n        </h4>\n        <p>{paragraph()}</p>\n      </div>\n      <div className=\"stars\">\n        <p>({averageRating()}/5)</p>\n        <span\n          className={`material-icons star5${rating > 4 ? \" checked\" : \"\"}`}\n          onClick={() => addRating(5)}\n        >\n          star\n        </span>\n        <span\n          className={`material-icons star4${rating > 3 ? \" checked\" : \"\"}`}\n          onClick={() => addRating(4)}\n        >\n          star\n        </span>\n        <span\n          className={`material-icons star3${rating > 2 ? \" checked\" : \"\"}`}\n          onClick={() => addRating(3)}\n        >\n          star\n        </span>\n        <span\n          className={`material-icons star2${rating > 1 ? \" checked\" : \"\"}`}\n          onClick={() => addRating(2)}\n        >\n          star\n        </span>\n        <span\n          className={`material-icons star1${rating > 0 ? \" checked\" : \"\"}`}\n          onClick={() => addRating(1)}\n        >\n          star\n        </span>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport './StepView.css';\n\nexport const StepView = ({instruction, index}) => {\n  return (\n    <div className=\"step-view\">\n      <p>\n        <span className=\"number\">Step {index + 1}</span>\n        {instruction.content}\n      </p>\n    </div>\n  );\n}\n","import axios from 'axios';\nimport moment from 'moment';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { Button } from '../../components/Button/Button';\nimport { CommentView } from '../../components/CommentView/CommentView';\nimport { IngredientView } from '../../components/IngredientView/IngredientView';\nimport { NewComment } from '../../components/NewComment/NewComment';\nimport { RateRecipe } from '../../components/RateRecipe/RateRecipe';\nimport { StepView } from '../../components/StepView/StepView';\nimport Context from \"../../Context\";\nimport './Recipe.css';\n\nconst momentConfig = {\n  sameDay: \"[Today]\",\n  nextDay: \"[Tomorrow]\",\n  nextWeek: \"dddd\",\n  lastDay: \"[Yesterday]\",\n  lastWeek: \"[Last] dddd\",\n  sameElse: \"DD/MM/YYYY\",\n};\n\n  export const Recipe = () => {\n  const { user } = useContext(Context);\n  const { recipeID } = useParams();\n  const [recipe, setRecipe] = useState(null);\n  const [comments, setComments] = useState([]);\n  const [commentsLength, setCommentsLength] = useState([]);\n\n  const fetchComments = async (what = '') => {\n    if (what === 'reload') {\n      const { data } = await axios.get(\n        `/api/comment/get?id=${recipe.comments}&limit=0&skip=2`\n      );\n      setComments(data);\n    } else {\n      const moreComments = await axios.get(\n        `/api/comment/get?id=${recipe.comments}&limit=${comments.length}&skip=${comments.length+2}`\n      );\n      setComments((prev) => prev.concat(moreComments.data));\n    }\n  };\n\n  useEffect(() => {\n    const fetchRecipe = async() => {\n      const { data } = await axios.get(`/api/recipe/get?id=${recipeID}`);\n      data.recipe.ingredients.sort((ing1, ing2) => {\n        if (ing1.ingredient.name.length < ing2.ingredient.name.length) return -1;\n        if (ing1.ingredient.name.length > ing2.ingredient.name.length) return 1;\n        return 0;\n      });\n      setRecipe(data.recipe);\n      setCommentsLength(data.commentLength)\n    }\n    fetchRecipe();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (recipe) {\n      fetchComments('reload');\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[recipe])\n\n  const getDate = () => {\n    if (recipe.updatedAt !== recipe.createdAt) {\n      const updatedAt = `Updated at \\n${moment().calendar(recipe.updatedAt, momentConfig)}`\n      return updatedAt;\n    }\n    const createdAt = `Uploaded at \\n${moment().calendar(recipe.createdAt, momentConfig)}`\n    return createdAt;\n  }\n  return (\n    <div className=\"recipe\">\n      {recipe && (\n        <main>\n          <img\n            className=\"recipe--image\"\n            src={`/api/recipe/image?id=${recipeID}`}\n            alt=\"recipe img\"\n          />\n          <h1>{recipe.title}</h1>\n          <p className=\"description\">{recipe.description}</p>\n          <div className=\"meta\">\n            <div className=\"user\">\n              <img\n                src={`/api/user/avatar?username=${recipe.owner.username}&v=${Date.now()}`}\n                alt=\"Literally avatar\"\n              />\n              <span>\n                By{\" \"}\n                <Link to={`/profile/${recipe.owner.username}`}>\n                  {recipe.owner.username}\n                </Link>\n              </span>\n            </div>\n            <p>{getDate()}</p>\n          </div>\n          <RateRecipe\n            ratings={recipe.rating}\n            recipeID={recipe._id}\n            setRecipe={setRecipe}\n            owner={recipe.owner._id}\n          />\n          <div className=\"ingredients\">\n            <h3>Ingredients</h3>\n            <p>Click on the number to check the ingredient.</p>\n            {recipe.ingredients.map((ing, index) => (\n              <IngredientView key={index} ingredient={ing} index={index} />\n            ))}\n          </div>\n          <div className=\"instructions\">\n            <h3>Instructions</h3>\n            <p>Follow the steps carefully or you'll be sorry.</p>\n            {recipe.instructions.map((ins, index) => (\n              <StepView instruction={ins} key={index} index={index} />\n            ))}\n          </div>\n          <div className=\"comments\">\n            <h3>\n              Comments <span>({commentsLength})</span>\n            </h3>\n            {comments &&\n              comments.map((comment, index) => (\n                <CommentView\n                  key={index}\n                  comment={comment}\n                  setCommentsLength={setCommentsLength}\n                  setComments={setComments}\n                />\n              ))}\n            {comments.length !== commentsLength && (\n              <Button text=\"Load More\" onClick={fetchComments} />\n            )}\n            {user.get?.user && (\n              <NewComment\n                setCommentsLength={setCommentsLength}\n                setComments={setComments}\n                recipeID={recipe._id}\n              />\n            )}\n          </div>\n        </main>\n      )}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport axios from 'axios';\nimport moment from 'moment';\nimport React, { useContext, useEffect, useState } from 'react'\nimport { useParams } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { Button } from '../../components/Button/Button';\nimport { RecipeBox } from \"../../components/RecipeBox/RecipeBox\";\n  import Context from \"../../Context\";\nimport \"./Profile.css\";\n\nexport const Profile = () => {\n  const { user } = useContext(Context);\n  const [profile, setProfile] = useState(null);\n  const [recipes, setRecipes] = useState([]);\n  const [maxRecipes, setMaxRecipes] = useState(null);\n  const { username } = useParams();\n\n  const fetchRecipes = async() => {\n    \n    const { data } = await axios.get(`/api/user/recipes?id=${profile._id}&limit=6&skip=${recipes.length}`);\n    setRecipes(prev => prev.concat(data.recipes));\n    setMaxRecipes(data.recipesLength);\n  }\n\n  useEffect(() => {\n    const fetchProfile = async() => {\n      const {data} = await axios.get(`/api/user/info?username=${username}`);\n      setProfile(data);\n    }\n    fetchProfile();\n  }, []);\n\n  useEffect(() => {\n    if (profile) {\n      fetchRecipes();\n    }\n  }, [profile])\n\n  return (\n    <>\n      {profile && (\n        <div className=\"profile\">\n          {user.get && user.get.user._id === profile._id && (\n            <Link to=\"/dashboard\">\n              <div className=\"dashboard-link\">\n                <span className=\"material-icons\">manage_accounts</span>\n                Settings\n              </div>\n            </Link>\n          )}\n          <div className=\"head\">\n            <img\n              src={`/api/user/avatar?username=${\n                profile.username\n              }&v=${Date.now()}`}\n              alt=\"\"\n            />\n            <div>\n              <h1>{profile.username}</h1>\n              <p>Joined at {moment(profile.createdAt).format(\"MMM Do YYYY\")}</p>\n            </div>\n          </div>\n          <p className=\"score\">\n            Score: <span>{profile.score}</span>\n          </p>\n          <h2>{profile.username}'s recipes</h2>\n          <div className=\"grid-preview\">\n            {recipes.map((recipe) => (\n              <RecipeBox recipe={recipe} key={recipe._id} noName={true} />\n            ))}\n          </div>\n          {maxRecipes && maxRecipes > recipes.length && (\n            <Button text=\"Load More\" onClick={fetchRecipes} />\n          )}\n        </div>\n      )}\n    </>\n  );\n}\n","import axios from 'axios';\nimport React, { useContext } from 'react'\nimport { NavLink } from 'react-router-dom';\nimport Context from \"../../Context\";\nexport const SideNavbar = ({ sideNavbar, handleMenu }) => {\n  const { user, alertPopup } = useContext(Context);\n\n  const handleBackgroundClick = (event) => {\n    if (event.target.classList.contains(\"navbar--side-bg\")) {\n      handleMenu();\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      await axios.post(\"/api/user/logout\",{},{headers: {\"Authorization\": `Bearer ${user.get.token}`}});\n      user.set(null);\n      alertPopup(\"Logged out!\", \"User logged out!\", \"green\", 3000);\n    } catch (error) {\n      \n    }\n  }\n\n  return (\n    <div className=\"navbar--side-bg\" onClick={handleBackgroundClick}>\n      <div className=\"navbar--side slide-animation\" ref={sideNavbar}>\n        <span className=\"material-icons back\" onClick={handleMenu}>\n          arrow_back\n        </span>\n        <NavLink to=\"/\" onClick={handleMenu}>\n          <span className=\"material-icons yellow\">home</span>\n          Home\n        </NavLink>\n        <NavLink to=\"/recipes\" onClick={handleMenu}>\n          <span className=\"material-icons purple\">restaurant_menu</span>\n          Recipes\n        </NavLink>\n\n        {/* If user not connected */}\n        {!user.get && (\n          <NavLink to=\"/login\" onClick={handleMenu}>\n            <span className=\"material-icons green\">login</span>\n            Login\n          </NavLink>\n        )}\n        {/* If user connected */}\n        {user.get && (\n          <>\n            <NavLink to={`/profile/${user.get.user.username}`} onClick={handleMenu}>\n              <span className=\"material-icons pink\">account_circle</span>\n              Profile\n            </NavLink>\n            <NavLink to=\"/add-recipe\" onClick={handleMenu}>\n              <span className=\"material-icons blue\">post_add</span>\n              Add Recipe\n            </NavLink>\n            <NavLink to=\"/\" onClick={() => {\n              handleLogout();\n              handleMenu();\n            }}>\n              <span className=\"material-icons red\">logout</span>\n              Logout\n            </NavLink>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n","import React, { useRef, useState } from 'react'\nimport { Link, useHistory } from 'react-router-dom';\nimport { SideNavbar } from './SideNavbar';\nimport './Navbar.css';\n\nexport const Navbar = () => {\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const sideNavbar = useRef(null);\n  const history = useHistory();\n\n  const handleMenu = () => {\n    if (isMenuOpen) {\n      sideNavbar.current.classList.remove(\"slide-animation\");\n      sideNavbar.current.classList.add(\"slide-animation-back\");\n      setTimeout(() => {\n        setIsMenuOpen(prev => !prev)\n      }, 400);\n    } else {\n      setIsMenuOpen(prev => !prev);\n    }\n  }\n\n  const homepageRedirect = () =>{\n    history.push('/');\n    window.scrollTo(0, 0);\n  }\n\n  return (\n    <nav className=\"navbar\">\n      <div className=\"navbar--left\">\n        <span className=\"material-icons\" onClick={handleMenu}>\n          menu\n        </span>\n      </div>\n\n      <div className=\"navbar--center\">\n        <img\n          src=\"/assets/logo.png\"\n          alt=\"Our website logo\"\n          onClick={homepageRedirect}\n        />\n      </div>\n\n      <div className=\"navbar--right\">\n        <Link to=\"Search\">\n          <span className=\"material-icons\">search</span>\n        </Link>\n      </div>\n      {isMenuOpen && (\n        <SideNavbar sideNavbar={sideNavbar} handleMenu={handleMenu} />\n      )}\n    </nav>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport './AddTagInput.css';\n\nexport const AddTagInput = ({name, label, type, placeholder, values, onChange, whatToChange, whereToPush}) => {\n\n  const handleChange = (event) => {\n    const newValue = { ...values };\n    newValue[whatToChange] = event?.target?.value || '';\n    onChange(newValue);\n  };\n\n  const handleAdd = () => {\n    const newValue = {...values};\n    newValue[whereToPush].push(values[whatToChange]);\n    onChange(newValue);\n    handleChange(null);\n  }\n\n  const [enoughLength, setEnoughLength] = useState(false);\n\n  const inputValue = values[whatToChange];\n\n  useEffect(() => {\n    if (inputValue.length >= 3) {\n      setEnoughLength(true);\n    } else {\n      setEnoughLength(false);\n    }\n  }, [inputValue]);\n\n  return (\n    <>\n      <label className=\"label\" htmlFor={name}>\n        {label}\n      </label>\n      <div className=\"add-tag-input\">\n        <input\n          id={name}\n          className=\"input\"\n          type={type}\n          placeholder={values[whereToPush].length >= 3 ? \"You can add up to 3 tags\" : placeholder}\n          value={values[whatToChange]}\n          onChange={handleChange}\n          disabled={values[whereToPush].length >= 3}\n        />\n        {enoughLength && (\n          <span className=\"material-icons\" onClick={handleAdd}>\n            add_circle_outline\n          </span>\n        )}\n      </div>\n    </>\n  );\n}","import React from 'react';\nimport './Tagbox.css';\n\nexport const Tagbox = ({name, values, whatToChange, onChange}) => {\n\n  const handleDelete = () => {\n    const newValues = {...values};\n    const index = newValues[whatToChange].findIndex(tag => tag === name);\n    newValues[whatToChange].splice(index,1);\n    onChange(newValues);\n  }\n\n  return (\n    <div className=\"tag-box\">\n      {name}\n      <span className=\"material-icons\" onClick={handleDelete}>clear</span>\n    </div>\n  );\n}\n","import React, { useContext } from 'react';\nimport './IngredientBox.css';\nimport Context from \"../../Context\";\n\nexport const IngredientBox = ({ ingredient, values, onChange, index, whatToFilter }) => {\n  const { alertPopup } = useContext(Context);\n  const handleAdd = () => {\n    const isExist = values.ingredients.find(ing => ing._id === ingredient._id);\n    if (isExist) {\n      return alertPopup(\"Sorry\",\"You have this ingredient already in your list.\",\"yellow\",3000);\n    }\n    const newValues = {...values};\n    const newIngredient = { ...ingredient };\n    newIngredient.amount = 0;\n    newIngredient.unit = 'mg';\n    newValues.ingredients = [...newValues.ingredients, newIngredient];\n    newValues.ingredientSearchTerm = \"\";\n    newValues[whatToFilter].splice(index, 1);\n    onChange(newValues);\n  };\n\n  return (\n    <div className=\"ingredient-box\" onClick={handleAdd}>\n      {ingredient.name}\n      <span className=\"material-icons\">check_box_outline_blank</span>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport './IngredientSetting.css';\n\nexport const IngredientSetting = ({ ingredient, values, onChange, index }) => {\n  const [isHidden, setIsHidden] = useState(true);\n\n  const handleAmount = (event) => {\n    const newValue = { ...values };\n    newValue.ingredients[index].amount = event.target.value;\n    onChange(newValue);\n  };\n  const handleUnit = (event) => {\n    const newValue = { ...values };\n    newValue.ingredients[index].unit = event.target.value;\n    onChange(newValue);\n  };\n\n  const handleHide = () => setIsHidden(prev => !prev);\n\n  const handleDelete = () => {\n    const newValue = { ...values };\n    newValue.ingredients.splice(index,1);\n    onChange(newValue);\n  }\n\n  return (\n    <div className=\"ingredient-setting\">\n      <div className=\"ingredient-header\">\n        <h4>\n          {index + 1}. {ingredient.name}\n          {isHidden && (\n            <span className=\"details\">\n              {\" \"}\n              - {values.ingredients[index].amount}{\" \"}\n              {values.ingredients[index].unit}\n            </span>\n          )}\n        </h4>\n        <div>\n          <span className=\"material-icons red\" onClick={handleDelete}>\n            clear\n          </span>\n          <span className=\"material-icons blue\" onClick={handleHide}>\n            {isHidden ? \"visibility\" : \"visibility_off\"}\n          </span>\n        </div>\n      </div>\n      {!isHidden && (\n        <div className=\"ingredient-grid\">\n          <div className=\"amount\">\n            <label className=\"label\" htmlFor={`amount${index}`}>\n              Amount\n            </label>\n            <input\n              id={`amount${index}`}\n              className=\"input\"\n              type=\"text\"\n              placeholder=\"\"\n              value={values.ingredients[index].amount}\n              onChange={handleAmount}\n            />\n          </div>\n          <div className=\"unit\">\n            <label className=\"label\" htmlFor={`unit${index}`}>\n              Unit\n            </label>\n            <select\n              id={`unit${index}`}\n              className=\"dropdown\"\n              value={values.ingredients[index].unit}\n              onChange={handleUnit}\n            >\n              <option value=\"mg\">mg</option>\n              <option value=\"g\">g</option>\n              <option value=\"kg\">kg</option>\n              <option value=\"ml\">ml</option>\n              <option value=\"liters\">liters</option>\n              <option value=\"whole\">whole</option>\n              <option value=\"tsp\">tsp</option>\n              <option value=\"tbsp\">tbsp</option>\n              <option value=\"cup\">cups</option>\n            </select>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n","import React, { useState } from 'react'\nimport './StepTextarea.css';\nexport const StepTextarea = ({ values, onChange, index, maxLength, rows }) => {\n  const hiddenOrNot = index > 1 ? true : false;\n  const [isHidden, setIsHidden] = useState(hiddenOrNot);\n  const handleHide = () => setIsHidden((prev) => !prev);\n\n  const handleChange = (event) => {\n    const newValue = {...values};\n    newValue.steps[index].content = event.target.value;\n    onChange(newValue);\n  }\n\n  const handleDelete = () => {\n    const newValue = {...values};\n    newValue.steps.splice(index,1);\n    onChange(newValue);\n  }\n  \n  return (\n    <div className=\"step-textarea\">\n      <label className=\"label\" htmlFor={`step${index}`}>\n        Step {index + 1}\n        <div>\n          {index > 1 && (\n            <span className=\"material-icons red\" onClick={handleDelete}>\n              clear\n            </span>\n          )}\n          <span className=\"material-icons blue\" onClick={handleHide}>\n            {isHidden ? \"visibility\" : \"visibility_off\"}\n          </span>\n        </div>\n      </label>\n      {!isHidden && (\n        <textarea\n          className=\"textarea\"\n          id={`step${index}`}\n          rows={rows}\n          value={values.steps[index].content}\n          onChange={handleChange}\n          maxLength={maxLength}\n        ></textarea>\n      )}\n    </div>\n  );\n};\n\n// xport const Textarea = ({name, label, placeholder, values, onChange, whatToChange, maxLength, rows}) => {\n//   const handleChange = (event) => {\n//     const newValue = {...values};\n//     if (Array.isArray(whatToChange)) {\n//       newValue[whatToChange[0]][whatToChange[1]][whatToChange[2]] = event.target.value;\n//     } else {\n//       newValue[whatToChange] = event.target.value;\n//     }\n//     onChange(newValue);\n//   }\n//   return (\n//     <>\n//       <label className=\"label\" htmlFor={name}>\n//         {label}\n//       </label>\n//       <textarea\n//         className=\"textarea\"\n//         id={name}\n//         rows={rows}\n//         placeholder={placeholder}\n//         value={values[whatToChange]}\n//         onChange={handleChange}\n//         maxLength={maxLength}\n//       ></textarea>\n//     </>\n//   );\n// }","import React, { useContext } from 'react';\nimport Context from \"../../Context\";\nimport { Link } from \"react-router-dom\";\nimport { IngredientView } from '../IngredientView/IngredientView';\nimport { StepView } from '../StepView/StepView';\nimport \"./RecipePreview.css\";\n\nexport const RecipePreview = ({ values }) => {\n  const { user } = useContext(Context);\n  return (\n    <div className=\"recipe preview\">\n      <main>\n        <img\n          className=\"recipe--image\"\n          src={values.file.preview}\n          alt=\"recipe img\"\n        />\n        <h1>{values.title}</h1>\n        <p className=\"description\">{values.description}</p>\n\n        <div className=\"meta\">\n          <div className=\"user\">\n            <img\n              src=\"https://yt3.ggpht.com/ytc/AAUvwngw35YY8vYI86RTOoEGafSxEjghjzTcKw3LbMyZ=s900-c-k-c0x00ffffff-no-rj\"\n              alt=\"Literally avatar\"\n            />\n            <span>\n              By <Link to=\" #\">{user.get.user.username}</Link>\n            </span>\n          </div>\n          <p>Uploaded at Today</p>\n        </div>\n\n        <div className=\"ingredients\">\n          <h3>Ingredients</h3>\n          <p>Click on the number to check the ingredient.</p>\n          {values.ingredients.map((ing, index) => (\n            <IngredientView key={index} ingredient={ing} index={index} />\n          ))}\n        </div>\n\n        <div className=\"instructions\">\n          <h3>Instructions</h3>\n          <p>Follow the steps carefully or you'll be sorry.</p>\n          {values.steps.map((ins, index) => (\n            <StepView instruction={ins} key={index} index={index} />\n          ))}\n        </div>\n      </main>\n    </div>\n  );\n};\n","import React, { useContext, useEffect, useState } from 'react';\nimport './AddRecipe.css';\nimport Context from \"../../Context\";\nimport { Input } from '../../components/Input/Input';\nimport { Textarea } from '../../components/Textarea/Textarea';\nimport { AddTagInput } from '../../components/AddTagInput/AddTagInput';\nimport { Tagbox } from '../../components/TagBox/Tagbox';\nimport { ImageUploadPlusPreview } from '../../components/ImageUploadPlusPreview/ImageUploadPlusPreview';\nimport { Button } from '../../components/Button/Button';\nimport axios from 'axios';\nimport { IngredientBox } from '../../components/IngredientBox/IngredientBox';\nimport { IngredientSetting } from '../../components/IngredientSetting/IngredientSetting';\nimport { StepTextarea } from '../../components/StepTextarea/StepTextarea';\nimport { RecipePreview } from \"../../components/RecipePreview/RecipePreview\";\nimport { useHistory } from 'react-router';\n\nexport const AddRecipe = () => {\n  const { user, alertPopup } = useContext(Context);\n  const [page, setPage] = useState(0);\n  const history = useHistory();\n  const [inputValues, setInputValues] = useState({\n    title: \"\",\n    description: \"\",\n    steps: [{ content: \"\" }, { content: \"\" }],\n    ingredients: [],\n    ingredientSearch: \"\",\n    ingredientsFounded: [],\n    tagInput: \"\",\n    tags: [],\n    file: {\n      raw: null,\n      preview: null,\n    },\n  });\n  // Here is the Error Handing\n  const changePage = (type) => {\n    if (type === \"increase\") {\n      switch (page) {\n        case 0:\n          if (\n            inputValues.title === \"\" ||\n            inputValues.description === \"\" ||\n            inputValues.file.raw === null\n          ) {\n            return alertPopup(\n              \"Empty field/s\",\n              \"You have one or more empty fields.\",\n              \"red\",\n              2500\n            );\n          }\n          if (inputValues.tags.length === 0) {\n            alertPopup(\n              \"Suggestion\",\n              \"We suggesting you to add at least one tag.\",\n              \"yellow\",\n              3000\n            );\n          }\n            break;\n\n        case 1:\n          if (inputValues.ingredients.length < 2) {\n            return alertPopup(\n              \"No ingredients added\",\n              \"You have to add at least 2 ingredients.\",\n              \"red\",\n              2500\n            );\n          }\n          if (inputValues.ingredients.some((ing) => ing.amount === 0 || ing.amount === '0')) {\n            return alertPopup(\n              \"Missing amount\",\n              \"One or more of your ingredients missing amount field.\",\n              \"red\",\n              2500\n            );\n          }\n            break;\n        case 2:\n          if (inputValues.steps.some((step) => step.content.length === 0)) {\n            return alertPopup(\n              \"Missing instructions\",\n              \"One or more of the steps is missing.\\nDelete one or add text.\",\n              \"red\",\n              2500\n            );\n          }\n            break;\n      \n        default:\n          break;\n      }\n      setPage(prev => prev+1);\n    } else if (type === \"decrease\") {\n      setPage((prev) => prev - 1);\n    }\n  }\n  // Search Ingredients from Database\n  useEffect(() => {\n    const searchIngredient = async () => {\n      const { data } = await axios.get(\n        `/api/ingredient/search?value=${inputValues.ingredientSearch}`\n      );\n      const newValue = { ...inputValues };\n      const filteredData = data.filter(ing => {\n        const isExist = inputValues.ingredients.find(ing2 => ing2._id === ing._id);\n        return isExist ? false : true;\n      })\n      newValue.ingredientsFounded = filteredData;\n      setInputValues(newValue);\n    };\n    const timeoutID = setTimeout(() => {\n      if (inputValues.ingredientSearch) {\n        searchIngredient();\n      }\n    }, 500);\n\n    return () => {\n      clearTimeout(timeoutID);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inputValues.ingredientSearch]);\n\n  const addStep = () => {\n    const newValues = {...inputValues};\n    newValues.steps = [...inputValues.steps, { content: \"\" }];\n    setInputValues(newValues);\n  }\n\n  const sendRecipe = async() => {\n    const body = {\n      title: inputValues.title,\n      description: inputValues.description,\n      tags: inputValues.tags,\n      instructions: inputValues.steps,\n      ingredients: [],\n    };\n    inputValues.ingredients.forEach(ingre => {\n      body.ingredients.push({ingredient: ingre._id, amount: ingre.amount, unit: ingre.unit});\n    });\n    const formData = new FormData();\n    formData.append(\"image\", inputValues.file.raw);\n    formData.append(\"body\", JSON.stringify(body));\n    try {\n      const { data } = await axios.post(\"/api/recipe/add\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          \"Authorization\": `Bearer ${user.get.token}`,\n        },\n      });\n      history.push(`/recipe/${data._id}`);\n    } catch (error) {\n      console.dir(error);\n    }\n  }\n\n  return (\n    <div className=\"add-recipe\">\n      <h1>Add a new recipe</h1>\n      {/* This will be in page 0 */}\n      {page === 0 && (\n        <>\n          <p>\n            You can share your recipes with our community.\n            <br />\n            Use the best image and title you can for more exposure.\n          </p>\n          <ImageUploadPlusPreview\n            name=\"fileupload\"\n            values={inputValues}\n            whatToChange={\"file\"}\n            onChange={setInputValues}\n            text=\"Upload an image\"\n          />\n          <Input\n            name=\"title\"\n            label=\"Title\"\n            type=\"text\"\n            placeholder=\"The recipe title\"\n            values={inputValues}\n            onChange={setInputValues}\n            whatToChange=\"title\"\n          />\n          <Textarea\n            name=\"description\"\n            label=\"description\"\n            placeholder=\"How can you describe this recipe the best way?\"\n            onChange={setInputValues}\n            values={inputValues}\n            whatToChange=\"description\"\n            maxLength=\"160\"\n            rows=\"3\"\n          />\n          <AddTagInput\n            name=\"tag\"\n            label=\"Add tags (up to 3)\"\n            type=\"text\"\n            placeholder=\"Users can find your recipe using tags\"\n            values={inputValues}\n            whatToChange=\"tagInput\"\n            whereToPush=\"tags\"\n            onChange={setInputValues}\n          />\n          <div className=\"tags-container\">\n            {inputValues.tags.map((tag, index) => (\n              <Tagbox\n                key={index}\n                name={tag}\n                values={inputValues}\n                whatToChange=\"tags\"\n                onChange={setInputValues}\n              />\n            ))}\n          </div>\n          <div className=\"buttons\">\n            <Button text=\"Next Page\" onClick={() => changePage(\"increase\")} />\n          </div>\n        </>\n      )}\n      {/* This will be in page 1 */}\n      {page === 1 && (\n        <>\n          <p>Add all the ingredients used for your recipe.</p>\n          <Input\n            name=\"ingredientSearch\"\n            label=\"Search ingredient\"\n            type=\"text\"\n            placeholder=\"Ingredient name\"\n            values={inputValues}\n            onChange={setInputValues}\n            whatToChange=\"ingredientSearch\"\n          />\n          {inputValues.ingredientsFounded.map((ing, index) => (\n            <IngredientBox\n              index={index}\n              key={ing._id}\n              ingredient={ing}\n              values={inputValues}\n              onChange={setInputValues}\n              whatToChange=\"ingredients\"\n              whatToFilter=\"ingredientsFounded\"\n            />\n          ))}\n          <h3 className=\"heading-tertiary\">\n            Your ingredients <span>({inputValues.ingredients.length})</span>\n          </h3>\n          {inputValues.ingredients.map((ing, index) => (\n            <IngredientSetting\n              key={ing._id}\n              ingredient={ing}\n              index={index}\n              values={inputValues}\n              onChange={setInputValues}\n            />\n          ))}\n          <div className=\"buttons\">\n            <Button\n              text=\"Previous Page\"\n              onClick={() => changePage(\"decrease\")}\n            />\n            <Button text=\"Next Page\" onClick={() => changePage(\"increase\")} />\n          </div>\n        </>\n      )}\n      {page === 2 && (\n        <>\n          <p>Add all the instructions for the recipe</p>\n          <p className=\"add-step\" onClick={addStep}>\n            Add Step<span className=\"material-icons\">add_circle</span>\n          </p>\n\n          {inputValues.steps.map((step, index) => (\n            <StepTextarea\n              key={index}\n              values={inputValues}\n              onChange={setInputValues}\n              index={index}\n              maxLength=\"1200\"\n              rows=\"3\"\n            />\n          ))}\n\n          <div className=\"buttons\">\n            <Button\n              text=\"Previous Page\"\n              onClick={() => changePage(\"decrease\")}\n            />\n            <Button text=\"Preview\" onClick={() => changePage(\"increase\")} />\n          </div>\n        </>\n      )}\n      {page === 3 && (\n        <>\n          <p>\n            Look how your recipe will look like. <br />\n            Check if you need to fix something.\n          </p>\n          <RecipePreview values={inputValues} />\n          <div className=\"buttons\">\n            <Button\n              text=\"Previous Page\"\n              onClick={() => changePage(\"decrease\")}\n            />\n            <Button text=\"Send\" onClick={sendRecipe} />\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { Button } from '../../components/Button/Button';\nimport { RecipeBox } from '../../components/RecipeBox/RecipeBox';\nimport './AllRecipes.css';\n\nexport const AllRecipes = () => {\n  const [recipes, setRecipes] = useState([]);\n  const [recipesLength, setRecipesLength] = useState([]);\n\n  const fetchRecentRecipes = async () => {\n    const { data } = await axios.get(`/api/recipe/recent?limit=5&skip=${recipes.length}`);\n    setRecipes((prev) => prev.concat(data.recipes));\n    setRecipesLength(data.recipesLength);\n  };\n  \n  useEffect(() => {fetchRecentRecipes()}, []);\n\n  return (\n    <div className=\"all-recipes\">\n      <h2>All Recipes</h2>\n      {recipes.map(recipe => <RecipeBox recipe={recipe} key={recipe._id}/>)}\n      {recipesLength && recipesLength > recipes.length && <Button text=\"Load More\" onClick={fetchRecentRecipes}/>}\n    </div>\n  )\n}\n","import React from 'react'\nimport './Dropdown.css';\nexport const Dropdown = ({name, label, values, onChange, whatToChange, options, group}) => {\n  const handleChange = (event) => {\n    const newValue = {...values};\n    newValue[whatToChange] = event.target.value;\n    onChange(newValue)\n  }\n  return (\n    <>\n      <label className=\"label\" htmlFor={name}>\n        {label}\n      </label>\n      <select id={name} className=\"dropdown\" onChange={handleChange}>\n        {group && (\n          <optgroup label={group}>\n            {options.map((opt, index) => (\n              <option key={index} value={opt}>\n                {opt}\n              </option>\n            ))}\n          </optgroup>\n        )}\n        {!group &&\n          options.map((opt, index) => (\n            <option key={index} value={opt}>\n              {opt}\n            </option>\n          ))}\n      </select>\n    </>\n  );\n}\n\n      // <input\n      //   id={name}\n      //   className=\"input\"\n      //   type={type}\n      //   placeholder={placeholder}\n      //   value={values[whatToChange]}\n      //   onChange={handleChange}\n      // />","import React, { useEffect, useState } from 'react';\nimport { Input } from '../../components/Input/Input';\nimport { Dropdown } from '../../components/Dropdown/Dropdown';\nimport { IngredientBox } from \"../../components/IngredientBox/IngredientBox\";\nimport './Search.css';\nimport axios from 'axios';\nimport { Button } from '../../components/Button/Button';\nimport { RecipeBox } from '../../components/RecipeBox/RecipeBox';\n\nexport const Search = () => {\n  const [viewAdvanced, setViewAdvanced] = useState(false);\n  const [viewResults, setViewResults] = useState(false);\n  const [recipes, setRecipes] = useState([]);\n  const [maxRecipes, setMaxRecipes] = useState(null);\n  const [savedParams, setSavedParams] = useState({});\n  const [inputValues, setInputValues] = useState({\n    basic: \"\",\n    parameter: \"Title\",\n    ingredientSearch: \"\",\n    ingredientsFounded: [],\n    ingredients: [],\n    title: \"\",\n    tags: \"\",\n  });\n\n  const switchSearch = () => {\n    setViewAdvanced((prev) => !prev);\n    setInputValues(prev => {\n      const newVal = {...prev};\n      newVal.ingredientsFounded = [];\n      newVal.ingredientSearch = \"\";\n      newVal.ingredients = [];\n      newVal.basic = \"\";\n      newVal.parameter = \"Title\";\n      newVal.tags = \"\";\n      return newVal\n    })\n  };\n\n  useEffect(() => {\n    const searchIngredient = async () => {\n      const { data } = await axios.get(\n        `/api/ingredient/search?value=${inputValues.ingredientSearch}`\n      );\n      const newValue = { ...inputValues };\n      const filteredData = data.filter((ing) => {\n        const isExist = inputValues.ingredients.find(\n          (ing2) => ing2._id === ing._id\n        );\n        return isExist ? false : true;\n      });\n      newValue.ingredientsFounded = filteredData;\n      setInputValues(newValue);\n    };\n    const timeoutID = setTimeout(() => {\n      if (inputValues.ingredientSearch) {\n        searchIngredient();\n      }\n    }, 500);\n\n    return () => {\n      clearTimeout(timeoutID);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inputValues.ingredientSearch]);\n\n  const ingredientDelete = (id) => {\n    const filteredIng = {...inputValues};\n    filteredIng.ingredients = filteredIng.ingredients.filter(ing => ing._id !== id);\n    setInputValues(filteredIng);\n  }\n\n  const inputLabel = () => {\n    if (inputValues.parameter === \"Title\") {\n      return \"Free text\"\n    }\n    if (inputValues.parameter === \"Tags\") {\n      return \"Tags separated by comma ( , )\"\n    }\n  }\n\n  const handleSearch = async (type) => {\n    let params = {};\n    if (type === 'new') {\n      if (!viewAdvanced) {\n        if (inputValues.parameter === \"Title\") {\n          params.title = inputValues.basic;\n        } else if (inputValues.parameter === \"Tags\") {\n          const tags = inputValues.basic.split(\",\");\n          params.tags = tags;\n        } else if (inputValues.parameter === \"Ingredients\") {\n          const ingredients = [];\n          inputValues.ingredients.forEach((ing) => ingredients.push(ing._id));\n          params.ingredients = ingredients;\n        }\n      } else {\n        if (inputValues.title !== \"\") {\n          params.title = inputValues.title;\n        }\n        if (inputValues.tags !== \"\") {\n          const tags = inputValues.tags.split(\",\");\n          params.tags = tags;\n        }\n        if (inputValues.ingredients.length > 0) {\n          const ingredients = [];\n          inputValues.ingredients.forEach((ing) => ingredients.push(ing._id));\n          params.ingredients = ingredients;\n        }\n      }\n    } else if (type === 'more') {\n      params = { ...savedParams };\n    }\n\n    setInputValues(prev => {\n      const newVal = {...prev};\n      newVal.ingredientsFounded = [];\n      return newVal;\n    });\n    \n    params.limit = 6;\n    setSavedParams(params);\n    if (type === 'new') {\n      params.skip = 0;\n    } else if (type === 'more') {\n      params.skip = recipes.length;\n    }\n\n    try {\n      const { data } = await axios.get(`/api/recipe/searchIngredient`,\n      { params }\n      );\n      if (type === 'new') {\n        setMaxRecipes(data.recipesLength);\n        setRecipes(data.recipes);\n        setSavedParams(params);\n      } else if (type === 'more') {\n        setRecipes(prev => prev.concat(data.recipes));\n      }\n      if (!viewResults) setViewResults(prev => !prev);\n    } catch (error) {\n      \n    }\n  }\n\n  return (\n    <div className=\"search\">\n      {!viewAdvanced && (\n        <>\n          <div className=\"header\">\n            <h1>Search for recipes</h1>\n            <p>\n              Want a more specific search?{\" \"}\n              <span onClick={switchSearch}>Click for advanced search.</span>\n            </p>\n          </div>\n          <div className=\"basic\">\n            <div className=\"input-container\">\n              {inputValues.parameter !== \"Ingredients\" && (\n                <Input\n                  name=\"title\"\n                  label={inputLabel()}\n                  type=\"text\"\n                  placeholder={`Enter ${inputValues.parameter}`}\n                  values={inputValues}\n                  onChange={setInputValues}\n                  whatToChange=\"basic\"\n                />\n              )}\n              {inputValues.parameter === \"Ingredients\" && (\n                <Input\n                  name=\"ingredientSearch\"\n                  label=\"Search ingredient\"\n                  type=\"text\"\n                  placeholder=\"Enter ingredient name\"\n                  values={inputValues}\n                  onChange={setInputValues}\n                  whatToChange=\"ingredientSearch\"\n                />\n              )}\n            </div>\n            <div className=\"dropdown-container\">\n              <Dropdown\n                name=\"parameter\"\n                label=\"Parameter\"\n                values={inputValues}\n                onChange={setInputValues}\n                whatToChange=\"parameter\"\n                options={[\"Title\", \"Tags\", \"Ingredients\"]}\n              />\n            </div>\n          </div>\n          {inputValues.parameter === \"Ingredients\" &&\n            inputValues.ingredients.length > 0 && (\n              <div className=\"ingredients-selected\">\n                <h3>Selected:</h3>\n                {inputValues.ingredients.map((ing, index) => (\n                  <span key={index} className=\"selected\">\n                    {ing.name}\n                    <span\n                      className=\"material-icons\"\n                      onClick={() => ingredientDelete(ing._id)}\n                    >\n                      clear\n                    </span>\n                  </span>\n                ))}\n              </div>\n            )}\n          {inputValues.parameter === \"Ingredients\" && (\n            <div className=\"ingredientsFounded\">\n              {inputValues.ingredientsFounded.map((ing, index) => (\n                <IngredientBox\n                  index={index}\n                  key={ing._id}\n                  ingredient={ing}\n                  values={inputValues}\n                  onChange={setInputValues}\n                  whatToChange=\"ingredients\"\n                  whatToFilter=\"ingredientsFounded\"\n                />\n              ))}\n            </div>\n          )}\n        </>\n      )}\n\n      {viewAdvanced && (\n        <>\n          <div className=\"header\">\n            <h1>Advanced search for recipes</h1>\n            <p>\n              Want a less specific search?{\" \"}\n              <span onClick={switchSearch}>Click for simple search.</span>\n            </p>\n          </div>\n          <Input\n            name=\"title\"\n            label=\"Title\"\n            type=\"text\"\n            placeholder={`Enter Title`}\n            values={inputValues}\n            onChange={setInputValues}\n            whatToChange=\"title\"\n          />\n          <Input\n            name=\"tags\"\n            label=\"Tags separated by comma ( , )\"\n            type=\"text\"\n            placeholder={`Enter Tags`}\n            values={inputValues}\n            onChange={setInputValues}\n            whatToChange=\"tags\"\n          />\n          <Input\n            name=\"ingredientSearch\"\n            label=\"Search ingredient\"\n            type=\"text\"\n            placeholder=\"Enter ingredient name\"\n            values={inputValues}\n            onChange={setInputValues}\n            whatToChange=\"ingredientSearch\"\n          />\n          {inputValues.ingredients.length > 0 && (\n            <div className=\"ingredients-selected\">\n              <h3>Selected:</h3>\n              {inputValues.ingredients.map((ing, index) => (\n                <span key={index} className=\"selected\">\n                  {ing.name}\n                  <span\n                    className=\"material-icons\"\n                    onClick={() => ingredientDelete(ing._id)}\n                  >\n                    clear\n                  </span>\n                </span>\n              ))}\n            </div>\n          )}\n          {\n            <div className=\"ingredientsFounded\">\n              {inputValues.ingredientsFounded.map((ing, index) => (\n                <IngredientBox\n                  index={index}\n                  key={ing._id}\n                  ingredient={ing}\n                  values={inputValues}\n                  onChange={setInputValues}\n                  whatToChange=\"ingredients\"\n                  whatToFilter=\"ingredientsFounded\"\n                />\n              ))}\n            </div>\n          }\n        </>\n      )}\n      <Button text=\"Search\" onClick={() => handleSearch(\"new\")} />\n      {viewResults && (\n        <>\n          {recipes.length === 0 && <h2>Sorry but not recipes found.</h2>}\n          {recipes.length > 0 && (\n            <>\n              <h2>{maxRecipes} recipes founded.</h2>\n              <div className=\"grid-preview\">\n                {recipes.map((recipe, index) => (\n                  <RecipeBox recipe={recipe} key={index} noName={true} />\n                ))}\n              </div>\n            </>\n          )}\n          {maxRecipes !== 0 && maxRecipes > recipes.length && (\n            <Button text=\"Load More\" onClick={() => handleSearch(\"more\")} />\n          )}\n        </>\n      )}\n    </div>\n  );\n}","import React, { useContext, useEffect, useState } from 'react';\nimport './Dashboard.css';\nimport Context from \"../../Context\";\nimport { Input } from '../../components/Input/Input';\nimport { Button } from '../../components/Button/Button';\nimport axios from 'axios';\nimport validator from 'validator';\nimport { ImageUploadPlusPreview } from '../../components/ImageUploadPlusPreview/ImageUploadPlusPreview';\nimport { useHistory } from 'react-router';\n\nexport const Dashboard = () => {\n  const { user, alertPopup } = useContext(Context);\n  const [values, setValues] = useState(null);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (user.get) {\n      setValues({\n        username: user.get.user.username,\n        email: user.get.user.email,\n        oldPassword: \"\",\n        newPassword: \"\",\n        newRepeatPassword: \"\",\n        file: {\n          raw: null,\n          preview: `/api/user/avatar?username=${user.get.user.username}&v=${Date.now()}`,\n        },\n      });\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleUpdate = async(e) => {\n    e.preventDefault();\n    if (values.username === user.get.user.username && values.email === user.get.user.email && values.newPassword === '' && values.newRepeatPassword === '' && !values.file.raw) {\n      return alertPopup(\"Nothing changed\", \"You changed nothing.\", \"red\", 3500);\n    }\n    if (values.oldPassword === '') {\n      return alertPopup(\"Password\", \"Old password is required to all updates.\", \"red\", 3500);\n    }\n    if (values.newPassword !== '' && values.newPassword !== values.newRepeatPassword) {\n      return alertPopup(\"Password\", \"New password fields doesn't match.\", \"red\", 3500);\n    }\n    if (values.newPassword !== '' && values.newPassword === values.oldPassword) {\n      return alertPopup(\"Password\", \"Old password and new password are the same.\", \"red\", 3500);\n    }\n    if (values.newPassword !== '' && !validator.isStrongPassword(values.newPassword, {minLength: 8, minLowercase: 1, minUppercase: 1, minSymbols: 1})) {\n      return alertPopup(\n        \"Password\",\n        \"The password must be with atleast: 8 Characters, 1 Lowercase, 1 Uppercase and 1 Symbol.\",\n        \"red\",\n        5000\n      );\n    }\n    if (values.username !== user.get.user.username && /\\W/g.test(values.username)) {\n      return alertPopup(\"Username\", \"The username can't include spaces or symbols.\", \"red\", 3000);\n    }\n    if (values.email !== user.get.user.email && !validator.isEmail(values.email)) {\n      return alertPopup(\"Email\", \"The email is invalid.\", \"red\", 3000);\n    }\n    const body = {};\n    if (values.username !== user.get.user.username) {\n      body.username = values.username;\n    }\n    if (values.email !== user.get.user.email) {\n      body.email = values.email;\n    }\n    if (values.newPassword !== '') {\n      body.newPassword = values.newPassword;\n    }\n    body.oldPassword = values.oldPassword;\n    const formData = new FormData();\n    if (values.file.raw) {\n      formData.append(\"image\", values.file.raw);\n    }\n    formData.append(\"body\", JSON.stringify(body));\n    try {\n      const { data } = await axios.patch(\"/api/user/update\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: `Bearer ${user.get.token}`,\n        },\n      });\n      user.set(prev => {\n        const newUserData = {...prev};\n        newUserData.user = data;\n        return newUserData;\n      });\n      alertPopup(\"Updated!\", \"User data updated successfully!\", \"green\", 3000);\n      history.push(`/profile/${values.username}`);\n    } catch (error) {\n      alertPopup(\"Not updated!\", \"There was a problem updating your data.\", \"red\", 3000);\n    }\n  }\n\n  return (\n    <div className=\"dashboard\">\n      <div className=\"header\">\n        <h1>Dashboard</h1>\n        <p>\n          Change your user data how you like.\n          <br />\n          All updates must include your <span>old password</span>.\n        </p>\n      </div>\n      {values && (\n        <form>\n          <ImageUploadPlusPreview\n            name=\"fileupload\"\n            values={values}\n            whatToChange=\"file\"\n            onChange={setValues}\n            text=\"Upload an avatar\"\n          />\n          <Input\n            name=\"username\"\n            label=\"Enter username\"\n            type=\"text\"\n            placeholder=\"username\"\n            values={values}\n            onChange={setValues}\n            whatToChange=\"username\"\n          />\n          <Input\n            name=\"email\"\n            label=\"email\"\n            type=\"email\"\n            placeholder=\"Enter username\"\n            values={values}\n            onChange={setValues}\n            whatToChange=\"email\"\n          />\n          <Input\n            name=\"oldpassword\"\n            label=\"old password (required)\"\n            type=\"password\"\n            placeholder=\"Enter old password\"\n            values={values}\n            onChange={setValues}\n            whatToChange=\"oldPassword\"\n          />\n          <Input\n            name=\"newpassword\"\n            label=\"new password\"\n            type=\"password\"\n            placeholder=\"Enter new password\"\n            values={values}\n            onChange={setValues}\n            whatToChange=\"newPassword\"\n          />\n          <Input\n            name=\"newrepeatpassword\"\n            label=\"Repeat new password\"\n            type=\"password\"\n            placeholder=\"Enter new password again\"\n            values={values}\n            onChange={setValues}\n            whatToChange=\"newRepeatPassword\"\n          />\n          <Button text=\"Update\" onClick={handleUpdate} />\n        </form>\n      )}\n    </div>\n  );\n}\n","import React from 'react'\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport { Homepage } from './pages/Homepage/Homepage'\nimport { Login } from './pages/Login/Login'\nimport { Signup } from './pages/Signup/Signup'\nimport { Recipe } from './pages/Recipe/Recipe'\nimport { Profile } from './pages/Profile/Profile'\nimport { Navbar } from './components/Navbar/Navbar'\nimport { AddRecipe } from './pages/AddRecipe/AddRecipe'\nimport { AllRecipes } from './pages/AllRecipes/AllRecipes'\nimport { Search } from './pages/Search/Search'\nimport { Dashboard } from './pages/Dashboard/Dashboard'\n\nexport const Routes = () => {\n  return (\n    <Router>\n      <Navbar />\n      <Switch>\n        {/* Homepage */}\n        <Route path=\"/\" exact>\n          <Homepage />\n        </Route>\n\n        {/* Login */}\n        <Route path=\"/login\" exact>\n          <Login />\n        </Route>\n\n        {/* Signup */}\n        <Route path=\"/signup\" exact>\n          <Signup />\n        </Route>\n\n        {/* Recipe */}\n        <Route path=\"/recipe/:recipeID\" exact>\n          <Recipe />\n        </Route>\n\n        {/* All Recipes */}\n        <Route path=\"/recipes\" exact>\n          <AllRecipes />\n        </Route>\n\n        {/* Add New Recipe */}\n        <Route path=\"/add-recipe/\" exact>\n          <AddRecipe />\n        </Route>\n\n        {/* User Profile */}\n        <Route path=\"/profile/:username\" exact>\n          <Profile />\n        </Route>\n\n        {/* Search */}\n        <Route path=\"/search\" exact>\n          <Search />\n        </Route>\n\n        {/* Dashboard */}\n        <Route path=\"/dashboard\" exact>\n          <Dashboard />\n        </Route>\n\n\n      </Switch>\n    </Router>\n  );\n}\n","import { Alert } from './components/Alert/Alert';\nimport React, { useState } from 'react';\nimport Context from \"./Context\";\nimport { Routes } from './Routes';\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [recentRecipes, setRecentRecipes] = useState(null);\n  const [alert, setAlert] = useState(null);\n  \n  const alertPopup = (header, text, type, timeout) => {\n    setAlert({header, text, type});\n    setTimeout(() => {\n      setAlert(null);\n    }, timeout);\n  };\n\n  const states = {\n    user: {\n      get: user,\n      set: setUser,\n    },\n    recentRecipes: {\n      get: recentRecipes,\n      set: setRecentRecipes,\n    },\n    alertPopup: alertPopup\n  };\n\n  return (\n    <div className=\"App\">\n      <Context.Provider value={states}>\n        {alert && <Alert details={alert}/>}\n        <Routes/>\n      </Context.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}